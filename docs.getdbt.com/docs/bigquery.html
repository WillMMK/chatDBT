<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/quickstarts/dbt-cloud/bigquery">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Quickstart for dbt Cloud and BigQuery | dbt Developer Hub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.getdbt.com/img/avatar.png"><meta data-rh="true" name="twitter:image" content="https://docs.getdbt.com/img/avatar.png"><meta data-rh="true" property="og:url" content="https://docs.getdbt.com/docs/quickstarts/dbt-cloud/bigquery"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quickstart for dbt Cloud and BigQuery | dbt Developer Hub"><meta data-rh="true" name="description" content="Quickstart for dbt Cloud and BigQuery."><meta data-rh="true" property="og:description" content="Quickstart for dbt Cloud and BigQuery."><link data-rh="true" rel="canonical" href="bigquery.html"><link data-rh="true" rel="alternate" href="bigquery.html" hreflang="en"><link data-rh="true" rel="alternate" href="bigquery.html" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://57ZWAOQC7F-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="https://docs.getdbt.com/blog/rss.xml" title="dbt Developer Hub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="https://docs.getdbt.com/blog/atom.xml" title="dbt Developer Hub Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="dbt Developer Hub" href="https://docs.getdbt.com/opensearch.xml">






<link href='https://d33wubrfki0l68.cloudfront.net/bundles/86c2f19a2ae35828239a5a9362ae97a45a3e36b0.css' rel='stylesheet'/>



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;500;600;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500;600;700&display=swap">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="icon" href="https://docs.getdbt.com/img/favicon.png" type="image/png">
<link rel="icon" href="https://docs.getdbt.com/img/favicon.svg" type="image/svg+xml">
<script src="https://code.jquery.com/jquery-3.4.1.min.js" defer="defer"></script>
<script src="https://cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js" defer="defer"></script>
<script src='https://d33wubrfki0l68.cloudfront.net/bundles/d791b6693c16c1841df84779b9b34e5f51a8490a.js'></script>
<script src="https://kit.fontawesome.com/7110474d41.js"></script><link href='https://d33wubrfki0l68.cloudfront.net/css/3b1f6b4f93b09261fa00a0957b856c308256f0dc/assets/css/styles.da37ce3e.css' rel='stylesheet'/>
<link rel="preload" href="https://docs.getdbt.com/assets/js/runtime~main.2cb82f36.js" as="script">
<link rel="preload" href="https://docs.getdbt.com/assets/js/main.55105ca8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="bigquery.html#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_s0pr" style="background-color:#047377;color:#fff" role="banner"><div class="announcementBarPlaceholder_qxfj"></div><a target="_blank" rel="noopener noreferrer" href="https://www.getdbt.com/resources/staging-april-2023/?utm_medium=internal&amp;utm_source=docs&amp;utm_campaign=q1-2024_staging_ex&amp;utm_content=staging____&amp;utm_term=knowledge-builder_all__" class="announcementBarLink_lVWg" style="background-color:#047377;color:#fff"><div class="content_knG7 announcementBarContent_dpRF">See what's new in dbt — join us at Staging on April 26!</div></a><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_iXyO"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand dbt__brand" href="https://docs.getdbt.com/"><div class="navbar__logo"><img src="https://d33wubrfki0l68.cloudfront.net/38a468b6bb7aeae799ea43bb9510af0753b90d91/42e9b/img/dbt-logo.svg" alt="dbt Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://d33wubrfki0l68.cloudfront.net/b8dc46ef553c76847d944665fe5cebdea2e86542/83803/img/dbt-logo-light.svg" alt="dbt Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../index.html">Docs</a><a class="navbar__item navbar__link" href="https://docs.getdbt.com/reference/dbt_project.yml">Reference</a><div class="navbar__item dropdown dropdown--hoverable"><a href="bigquery.html#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link nav-versioning">v </a><ul class="dropdown__menu"><li><a class="dropdown__link nav-versioning-dropdown__link">1.5<!-- --> (Beta)</a></li><li><a class="dropdown__link nav-versioning-dropdown__link">1.4</a></li><li><a class="dropdown__link nav-versioning-dropdown__link">1.3</a></li><li><a class="dropdown__link nav-versioning-dropdown__link">1.2</a></li><li><a class="dropdown__link nav-versioning-dropdown__link">1.1</a></li><li><a class="dropdown__link nav-versioning-dropdown__link">1.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="bigquery.html#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://courses.getdbt.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Courses<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/guides/best-practices">Guides</a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/blog">Developer Blog</a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/glossary">Glossary</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="bigquery.html#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="https://docs.getdbt.com/community/join">Join the Community</a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/community/contribute">Become a contributor</a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/community/forum">Community Forum</a></li><li><a class="dropdown__link" href="https://docs.getdbt.com/community/events">Events</a></li></ul></div><a href="https://www.getdbt.com/signup/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link nav-create-account button button--primary">Create a free account</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="https://docs.getdbt.com/"><img src="https://d33wubrfki0l68.cloudfront.net/38a468b6bb7aeae799ea43bb9510af0753b90d91/42e9b/img/dbt-logo.svg" alt="dbt Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://d33wubrfki0l68.cloudfront.net/b8dc46ef553c76847d944665fe5cebdea2e86542/83803/img/dbt-logo-light.svg" alt="dbt Logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.html">What is dbt?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../supported-data-platforms.html">Supported data platforms</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../cloud/about-cloud/dbt-cloud-features.html">About dbt Cloud</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="../overview.html">Quickstarts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../overview.html">About quickstarts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="bigquery.html">dbt Cloud</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="bigquery.html">BigQuery quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="databricks.html">Databricks quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="redshift.html">Redshift quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="snowflake.html">Snowflake quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="starburst-galaxy.html">Starburst Galaxy quickstart</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="../dbt-core/codespace.html">dbt Core</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../about-setup.html">Set up dbt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../build/projects.html">Build dbt projects</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../deploy/deployments.html">Deploy dbt jobs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy dbt jobs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../collaborate/environments/environments-in-dbt.html">Collaborate with others</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../use-dbt-semantic-layer/quickstart-semantic-layer.html">Use the dbt Semantic Layer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../dbt-cloud-apis/overview.html">dbt APIs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="../../core-versions.html">Available dbt versions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../dbt-support.html">dbt support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../faqs.html">Frequently asked questions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frequently asked questions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_RiV8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="https://docs.getdbt.com/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quickstarts</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">dbt Cloud</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">BigQuery quickstart</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_EDxc"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quickstart for dbt Cloud and BigQuery</h1></header><p>In this quickstart guide, you&#x27;ll learn how to use dbt Cloud with BigQuery. It will show you how to: </p><ul><li>Create a Google Cloud Platform (GCP) project.</li><li>Access sample data in a public dataset.</li><li>Connect dbt Cloud to BigQuery.</li><li>Take a sample query and turn it into a model in your dbt project. A model in dbt is a select statement.</li><li>Add tests to your models.</li><li>Document your models.</li><li>Schedule a job to run.</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Videos for you</div><div class="admonitionContent_S0QG"><p>You can check out <a href="https://courses.getdbt.com/courses/fundamentals" target="_blank" rel="noopener noreferrer">dbt Fundamentals</a> for free if you&#x27;re interested in course learning with videos.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites​<a href="bigquery.html#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites​" title="Direct link to Prerequisites​">​</a></h2><ul><li>You have a  <a href="https://www.getdbt.com/signup/" target="_blank" rel="noopener noreferrer">dbt Cloud account</a>. </li><li>You have a <a href="https://support.google.com/accounts/answer/27441?hl=en" target="_blank" rel="noopener noreferrer">Google account</a>.</li><li>You can use a personal or work account to set up BigQuery through <a href="https://cloud.google.com/free" target="_blank" rel="noopener noreferrer">Google Cloud Platform (GCP)</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-a-new-gcp-project">Create a new GCP project​<a href="bigquery.html#create-a-new-gcp-project" class="hash-link" aria-label="Direct link to Create a new GCP project​" title="Direct link to Create a new GCP project​">​</a></h2><ol><li>Go to the <a href="https://console.cloud.google.com/bigquery" target="_blank" rel="noopener noreferrer">BigQuery Console</a> after you log in to your Google account. If you have multiple Google accounts, make sure you’re using the correct one. </li><li>Create a new project from the <a href="https://console.cloud.google.com/projectcreate?previousPage=%2Fcloud-resource-manager%3Fwalkthrough_id%3Dresource-manager--create-project%26project%3D%26folder%3D%26organizationId%3D%23step_index%3D1&amp;walkthrough_id=resource-manager--create-project" target="_blank" rel="noopener noreferrer">Manage resources page</a>. For more information, refer to <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project" target="_blank" rel="noopener noreferrer">Creating a project</a> in the Google Cloud docs. GCP automatically populates the Project name field for you. You can change it to be more descriptive for your use. For example, <code>dbt Learn - BigQuery Setup</code>.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-bigquery-datasets">Create BigQuery datasets<a href="bigquery.html#create-bigquery-datasets" class="hash-link" aria-label="Direct link to Create BigQuery datasets" title="Direct link to Create BigQuery datasets">​</a></h2><ol><li><p>From the <a href="https://console.cloud.google.com/bigquery" target="_blank" rel="noopener noreferrer">BigQuery Console</a>, click <strong>Editor</strong>. Make sure to select your newly created project, which is available at the top of the page.</p></li><li><p>Verify that you can run SQL queries. Copy and paste these queries into the Query Editor: </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial.jaffle_shop.customers</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial.jaffle_shop.orders</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial.stripe.payment</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Click <strong>Run</strong>, then check for results from the queries. For example: </p><div style="max-width:400px"><link href='https://d33wubrfki0l68.cloudfront.net/css/d108c8e0fb7b0e3f1145f4ca6dcc3ba0db7985ec/css/featherlight-styles.css' rel='stylesheet'/><span class="docImage_EYbW"><span><a href="bigquery.html#" data-featherlight="/img/bigquery/query-results.png"><img data-toggle="lightbox" alt="Bigquery Query Results" title="Bigquery Query Results" src="https://d33wubrfki0l68.cloudfront.net/e9526c1fa828e715c8a88e7b5059f6c67a36795f/36d1b/img/bigquery/query-results.png"></a></span><span class="title_aGrV">Bigquery Query Results</span></span></div></li><li><p>Create new datasets from the <a href="https://console.cloud.google.com/bigquery" target="_blank" rel="noopener noreferrer">BigQuery Console</a>. For more information, refer to <a href="https://cloud.google.com/bigquery/docs/datasets#create-dataset" target="_blank" rel="noopener noreferrer">Create datasets</a> in the Google Cloud docs. Datasets in BigQuery are equivalent to schemas in a traditional database. On the <strong>Create dataset</strong> page:</p><ul><li><strong>Dataset ID</strong> <!-- -->—<!-- --> Enter a name that fits the purpose. This name is used like schema in fully qualified references to your database objects such as <code>database.schema.table</code>. As an example for this guide, create one for <code>jaffle_shop</code> and another one for <code>stripe</code> afterward.</li><li><strong>Data location</strong> <!-- -->—<!-- --> Leave it blank (the default). It determines the GCP location of where your data is stored. The current default location is the US multi-region. All tables within this dataset will share this location.</li><li><strong>Enable table expiration</strong> <!-- -->—<!-- --> Leave it unselected (the default). The default for the billing table expiration is 60 days. Because billing isn’t enabled for this project, GCP defaults to deprecating tables.</li><li><strong>Google-managed encryption key</strong> <!-- -->—<!-- --> This option is available under <strong>Advanced options</strong>. Allow Google to manage encryption (the default). <div style="max-width:400px"><link href='https://d33wubrfki0l68.cloudfront.net/css/d108c8e0fb7b0e3f1145f4ca6dcc3ba0db7985ec/css/featherlight-styles.css' rel='stylesheet'/><span class="docImage_EYbW"><span><a href="bigquery.html#" data-featherlight="/img/bigquery/create-dataset-id.png"><img data-toggle="lightbox" alt="Bigquery Create Dataset ID" title="Bigquery Create Dataset ID" src="https://d33wubrfki0l68.cloudfront.net/920358048fc6e092dfb77b54586d320f0e27af20/c5beb/img/bigquery/create-dataset-id.png"></a></span><span class="title_aGrV">Bigquery Create Dataset ID</span></span></div></li></ul></li><li><p>After you create the <code>jaffle_shop</code> dataset, create one for <code>stripe</code> with all the same values except for <strong>Dataset ID</strong>.</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generate-bigquery-credentials">Generate BigQuery credentials<a href="bigquery.html#generate-bigquery-credentials" class="hash-link" aria-label="Direct link to Generate BigQuery credentials" title="Direct link to Generate BigQuery credentials">​</a></h2><p>In order to let dbt connect to your warehouse, you&#x27;ll need to generate a keyfile. This is analogous to using a database username and password with most other <span>data warehouses</span>.</p><ol><li>Start the <a href="https://console.cloud.google.com/apis/credentials/wizard" target="_blank" rel="noopener noreferrer">GCP credentials wizard</a>. Make sure your new project is selected in the header. If you do not see your account or project, click your profile picture to the right and verify you are using the correct email account. For <strong>Credential Type</strong>: <ul><li>From the <strong>Select an API</strong> dropdown, choose <strong>BigQuery API</strong></li><li>Select <strong>Application data</strong> for the type of data you will be accessing</li><li>Select <strong>No, I’m not using them</strong> and click <strong>Next</strong>.</li><li>Click <strong>Next</strong> to create a new service account.</li></ul></li><li>Create a service account for your new project from the <a href="https://console.cloud.google.com/projectselector2/iam-admin/serviceaccounts?supportedpurview=project" target="_blank" rel="noopener noreferrer">Service accounts page</a>. For more information, refer to <a href="https://developers.google.com/workspace/guides/create-credentials#create_a_service_account" target="_blank" rel="noopener noreferrer">Create a service account</a> in the Google Cloud docs. As an example for this guide, you can:<ul><li>Type <code>dbt-user</code> as the <strong>Service account name</strong></li><li>From the <strong>Select a role</strong> dropdown, choose <strong>BigQuery Admin</strong> and click <strong>Continue</strong> </li><li>Leave the <strong>Grant users access to this service account</strong> fields blank</li><li>Click <strong>Done</strong></li></ul></li><li>Create a service account key for your new project from the <a href="https://console.cloud.google.com/iam-admin/serviceaccounts?walkthrough_id=iam--create-service-account-keys&amp;start_index=1#step_index=1" target="_blank" rel="noopener noreferrer">Service accounts page</a>. For more information, refer to <a href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating" target="_blank" rel="noopener noreferrer">Create a service account key</a> in the Google Cloud docs. When downloading the JSON file, make sure to use a filename you can easily remember. For example, <code>dbt-user-creds.json</code>. For security reasons, dbt Labs recommends that you protect this JSON file like you would your identity credentials; for example, don&#x27;t check the JSON file into your version control software.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="connect-dbt-cloud-to-bigquery">Connect dbt Cloud to BigQuery​<a href="bigquery.html#connect-dbt-cloud-to-bigquery" class="hash-link" aria-label="Direct link to Connect dbt Cloud to BigQuery​" title="Direct link to Connect dbt Cloud to BigQuery​">​</a></h2><ol><li>Create a new project in <a href="https://cloud.getdbt.com/" target="_blank" rel="noopener noreferrer">dbt Cloud</a>. From <strong>Account settings</strong> (using the gear menu in the top right corner), click <strong>+ New Project</strong>.</li><li>Enter a project name and click <strong>Continue</strong>.</li><li>For the warehouse, click <strong>BigQuery</strong> then <strong>Next</strong> to set up your connection.</li><li>Click <strong>Upload a Service Account JSON File</strong> in settings.</li><li>Select the JSON file you downloaded in <a href="bigquery.html#generate-bigquery-credentials">Generate BigQuery credentials</a> and dbt Cloud will fill in all the necessary fields.</li><li>Click <strong>Test Connection</strong>. This verifies that dbt Cloud can access your BigQuery account.</li><li>Click <strong>Next</strong> if the test succeeded. If it failed, you might need to go back and regenerate your BigQuery credentials.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="set-up-a-dbt-cloud-managed-repository">Set up a dbt Cloud managed repository<a href="bigquery.html#set-up-a-dbt-cloud-managed-repository" class="hash-link" aria-label="Direct link to Set up a dbt Cloud managed repository" title="Direct link to Set up a dbt Cloud managed repository">​</a></h2><div class="snippet_iFq4"><div class="snippet_iFq4"><p>When you develop in dbt Cloud, you can leverage <a href="../../collaborate/git-version-control.html">Git</a> to version control your code.  </p><p>To connect to a repository, you can either set up a dbt Cloud-hosted <a href="../../collaborate/git/managed-repository.html">managed repository</a> or directly connect to a <a href="../../cloud/git/connect-github.html">supported git provider</a>. Managed repositories are a great way to trial dbt without needing to create a new repository.  In the long run, it&#x27;s better to connect to a supported git provider to use features like automation and <a href="../../deploy/cloud-ci-job.html">continuous integration</a>.</p></div><p>To set up a managed repository:</p><ol><li>Under &quot;Setup a repository&quot;, select <strong>Managed</strong>.</li><li>Type a name for your repo such as <code>bbaggins-dbt-quickstart</code></li><li>Click <strong>Create</strong>. It will take a few seconds for your repository to be created and imported.</li><li>Once you see the &quot;Successfully imported repository,&quot; click <strong>Continue</strong>.</li></ol></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="initialize-your-dbt-project-and-start-developing">Initialize your dbt project​ and start developing<a href="bigquery.html#initialize-your-dbt-project-and-start-developing" class="hash-link" aria-label="Direct link to Initialize your dbt project​ and start developing" title="Direct link to Initialize your dbt project​ and start developing">​</a></h2><p>Now that you have a repository configured, you can initialize your project and start development in dbt Cloud:</p><ol><li>Click <strong>Start developing in the IDE</strong>. It might take a few minutes for your project to spin up for the first time as it establishes your git connection, clones your repo, and tests the connection to the warehouse.</li><li>Above the file tree to the left, click <strong>Initialize dbt project</strong>. This builds out your folder structure with example models.</li><li>Make your initial commit by clicking <strong>Commit and sync</strong>. Use the commit message <code>initial commit</code> and click <strong>Commit</strong>. This creates the first commit to your managed repo and allows you to open a branch where you can add new dbt code.</li><li>You can now directly query data from your warehouse and execute <code>dbt run</code>. You can try this out now:<ul><li>Click <strong>+ Create new file</strong>, add this query to the new file, and click <strong>Save as</strong> to save the new file:  <div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial.jaffle_shop.customers</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>In the command line bar at the bottom, enter <code>dbt run</code> and click <strong>Enter</strong>. You should see a <code>dbt run succeeded</code> message.</li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="build-your-first-model">Build your first model<a href="bigquery.html#build-your-first-model" class="hash-link" aria-label="Direct link to Build your first model" title="Direct link to Build your first model">​</a></h2><ol><li>Under <strong>Version Control</strong> on the left, click <strong>Create branch</strong>. You can name it <code>add-customers-model</code>. You need to create a new branch since the main branch is set to read-only mode.</li><li>Click the <strong>...</strong> next to the <code>models</code> directory, then select <strong>Create file</strong>.  </li><li>Name the file <code>customers.sql</code>, then click <strong>Create</strong>.</li><li>Copy the following query into the file and click <strong>Save</strong>.</li></ol><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">with</span><span class="token plain"> customers </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        first_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        last_name</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> order_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        user_id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">customer_orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> first_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> most_recent_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> number_of_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">group</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">by</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">final </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">first_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">most_recent_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">coalesce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">number_of_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> number_of_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">left</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">join</span><span class="token plain"> customer_orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">using</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> final</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>Enter <code>dbt run</code> in the command prompt at the bottom of the screen. You should get a successful run and see the three models.</li></ol><p>Later, you can connect your business intelligence (BI) tools to these views and tables so they only read cleaned up data rather than raw data in your BI tool.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="change-the-way-your-model-is-materialized">Change the way your model is materialized<a href="bigquery.html#change-the-way-your-model-is-materialized" class="hash-link" aria-label="Direct link to Change the way your model is materialized" title="Direct link to Change the way your model is materialized">​</a></h2><div class="snippet_iFq4"><p>One of the most powerful features of dbt is that you can change the way a model is materialized in your warehouse, simply by changing a configuration value.  You can change things between tables and views by changing a keyword rather than writing the data definition language (DDL) to do this behind the scenes.</p><p>By default, everything gets created as a view. You can override that by materializing everything in jaffle_shop as a table.  Everything in the example project will still be materialized as a view.</p><ol><li><p>Edit your <code>dbt_project.yml</code> file.</p><ul><li><p>Update your project <code>name</code> to:</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>dbt_project.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;jaffle_shop&#x27;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Update your <code>models</code> config block to:</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>dbt_project.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token key atrule" style="color:rgb(255, 203, 139)">models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule" style="color:rgb(255, 203, 139)">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">+materialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> table</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule" style="color:rgb(255, 203, 139)">+materialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> view</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Click <strong>Save</strong>.</p></li></ul></li><li><p>Enter the <code>dbt run</code> command. Your <code>customers</code> model should now be built as a table!</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>To do this, dbt had to first run a <code>drop view</code> statement (or API call on BigQuery), then a <code>create table as</code> statement.</p></div></div></li><li><p>Edit <code>models/customers.sql</code>  to override the <code>dbt_project.yml</code> for the <code>customers</code> model only by adding the following snippet to the top, and click <strong>Save</strong>:  </p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/customers.sql</span></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token plain">{{</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    materialized</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;view&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">}}</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">with</span><span class="token plain"> customers </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Enter the <code>dbt run</code> command. Your model, <code>customers</code> should now build as a view.</p></li><li><p>Enter the <code>dbt run --full-refresh</code> command for this to take effect in your warehouse.</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="delete-the-example-models">Delete the example models<a href="bigquery.html#delete-the-example-models" class="hash-link" aria-label="Direct link to Delete the example models" title="Direct link to Delete the example models">​</a></h2><div class="snippet_iFq4"><p>You can now delete the files that dbt created when you initialized the project:</p><ol><li><p>Delete the <code>models/example/</code> directory.</p></li><li><p>Delete the <code>example:</code> key from your <code>dbt_project.yml</code> file, and any configurations that are listed under it.</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>dbt_project.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule" style="color:rgb(255, 203, 139)">models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule" style="color:rgb(255, 203, 139)">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">+materialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> table</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule" style="color:rgb(255, 203, 139)">+materialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> view</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>dbt_project.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># after</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule" style="color:rgb(255, 203, 139)">models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule" style="color:rgb(255, 203, 139)">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">+materialized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> table</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Save your changes.</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="build-models-on-top-of-other-models">Build models on top of other models<a href="bigquery.html#build-models-on-top-of-other-models" class="hash-link" aria-label="Direct link to Build models on top of other models" title="Direct link to Build models on top of other models">​</a></h2><div class="snippet_iFq4"><p>As a best practice in SQL, you should separate logic that cleans up your data from logic that transforms your data. You have already started doing this in the existing query by using common table expressions (CTEs).</p><p>Now you can experiment by separating the logic out into separate models and using the <a href="https://docs.getdbt.com/reference/dbt-jinja-functions/ref">ref</a> function to build models on top of other models:</p><link href='https://d33wubrfki0l68.cloudfront.net/css/d108c8e0fb7b0e3f1145f4ca6dcc3ba0db7985ec/css/featherlight-styles.css' rel='stylesheet'/><span class="docImage_EYbW"><span><a href="bigquery.html#" data-featherlight="/img/dbt-dag.png"><img data-toggle="lightbox" alt="The DAG we want for our dbt project" title="The DAG we want for our dbt project" src="https://d33wubrfki0l68.cloudfront.net/92532fb7d38395899ada75b656655622c9544a2d/a042d/img/dbt-dag.png"></a></span><span class="title_aGrV">The DAG we want for our dbt project</span></span></div><ol><li><p>Create a new SQL file, <code>models/stg_customers.sql</code>, with the SQL from the <code>customers</code> CTE in our original query.</p></li><li><p>Create a second new SQL file, <code>models/stg_orders.sql</code>, with the SQL from the <code>orders</code> CTE in our original query.</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/stg_customers.sql</span></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    first_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    last_name</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">customers</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/stg_orders.sql</span></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> order_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    user_id </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token identifier">dbt-tutorial</span><span class="token identifier punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jaffle_shop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">orders</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Edit the SQL in your <code>models/customers.sql</code> file as follows:</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/customers.sql</span></div></div><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-sql codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">with</span><span class="token plain"> customers </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> {{ ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;stg_customers&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> }}</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> {{ ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;stg_orders&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> }}</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">customer_orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> first_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> most_recent_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> number_of_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">group</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">by</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">final </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">first_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">last_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">first_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">most_recent_order_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">coalesce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customer_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">number_of_orders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> number_of_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">left</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">join</span><span class="token plain"> customer_orders </span><span class="token keyword" style="color:rgb(127, 219, 202)">using</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customer_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">select</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> final</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Execute <code>dbt run</code>.</p><p>This time, when you performed a <code>dbt run</code>, separate views/tables were created for <code>stg_customers</code>, <code>stg_orders</code> and <code>customers</code>. dbt inferred the order to run these models. Because <code>customers</code> depends on <code>stg_customers</code> and <code>stg_orders</code>, dbt builds <code>customers</code> last. You do not need to explicitly define these dependencies.</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faq-2">FAQs<a href="bigquery.html#faq-2" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span>As I create more models, how should I keep my project organized? What should I name my models?</span></span><div style="display:none" class="body_zXUJ"></div></div><div class="snippet_iFq4"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add-tests-to-your-models">Add tests to your models<a href="bigquery.html#add-tests-to-your-models" class="hash-link" aria-label="Direct link to Add tests to your models" title="Direct link to Add tests to your models">​</a></h2><div class="snippet_iFq4"><p>Adding <a href="../../build/tests.html">tests</a> to a project helps validate that your models are working correctly.</p><p>To add tests to your project:</p><ol><li><p>Create a new YAML file in the <code>models</code> directory, named <code>models/schema.yml</code></p></li><li><p>Add the following contents to the file:</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/schema.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token key atrule" style="color:rgb(255, 203, 139)">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule" style="color:rgb(255, 203, 139)">models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> stg_customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> stg_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> order_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">accepted_values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule" style="color:rgb(255, 203, 139)">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;placed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;shipped&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;completed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;return_pending&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;returned&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">relationships</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule" style="color:rgb(255, 203, 139)">to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ref(&#x27;stg_customers&#x27;)</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule" style="color:rgb(255, 203, 139)">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Run <code>dbt test</code>, and confirm that all your tests passed.</p></li></ol><p>When you run <code>dbt test</code>, dbt iterates through your YAML files, and constructs a query for each test. Each query will return the number of records that fail the test. If this number is 0, then the test is successful.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span>What tests are available for me to use in dbt? Can I add my own custom tests?</span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span>Does my test file need to be named `schema.yml`?</span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="document-your-models">Document your models<a href="bigquery.html#document-your-models" class="hash-link" aria-label="Direct link to Document your models" title="Direct link to Document your models">​</a></h2><div class="snippet_iFq4"><p>Adding <a href="../../collaborate/documentation.html">documentation</a> to your project allows you to describe your models in rich detail, and share that information with your team. Here, we&#x27;re going to add some basic documentation to our project.</p><ol><li><p>Update your <code>models/schema.yml</code> file to include some descriptions, such as those below.</p><div class="wrapper_V0Zw"><div class="title_BmGx"><div class="titleInner_QNi1"><svg class="icon_E6qs" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg><span>models/schema.yml</span></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#d6deeb"><span class="token key atrule" style="color:rgb(255, 203, 139)">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule" style="color:rgb(255, 203, 139)">models</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> One record per customer</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Primary key</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> first_order_date</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NULL when a customer has not yet placed an order.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> stg_customers</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> This model cleans up customer data</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> customer_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Primary key</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> stg_orders</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> This model cleans up order data</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule" style="color:rgb(255, 203, 139)">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> order_id</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Primary key</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> unique</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> not_null</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule" style="color:rgb(255, 203, 139)">tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:rgb(255, 203, 139)">accepted_values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule" style="color:rgb(255, 203, 139)">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;placed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;shipped&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;completed&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;return_pending&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;returned&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></li><li><p>Run <code>dbt docs generate</code> to generate the documentation for your project. dbt introspects your project and your warehouse to generate a <span>JSON</span> file with rich documentation about your project.</p></li></ol></div><ol start="3"><li>Click the book icon in the Develop interface to launch documentation in a new tab.</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div></div><div class="snippet_iFq4"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="commit-your-changes">Commit your changes<a href="bigquery.html#commit-your-changes" class="hash-link" aria-label="Direct link to Commit your changes" title="Direct link to Commit your changes">​</a></h2><p>Now that you&#x27;ve built your customer model, you need to commit the changes you made to the project so that the repository has your latest code.</p><ol><li>Under <strong>Version Control</strong> on the left, click <strong>Commit and sync</strong> and add a message. For example, &quot;Add customers model, tests, docs.&quot;</li><li>Click <strong>Merge this branch to main</strong> to add these changes to the main branch on your repo.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-a-deployment-environment">Create a deployment environment<a href="bigquery.html#create-a-deployment-environment" class="hash-link" aria-label="Direct link to Create a deployment environment" title="Direct link to Create a deployment environment">​</a></h2><ol><li>In the upper left, select <strong>Deploy</strong>, then click <strong>Environments</strong>.</li><li>Click <strong>Create Environment</strong>.</li><li>Name your deployment environment. For example, &quot;Production.&quot;</li><li>Add a target dataset, for example, &quot;Analytics.&quot; dbt will build into this dataset. For some warehouses this will be named &quot;schema.&quot;</li><li>Click <strong>Save</strong>.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-and-run-a-job">Create and run a job<a href="bigquery.html#create-and-run-a-job" class="hash-link" aria-label="Direct link to Create and run a job" title="Direct link to Create and run a job">​</a></h2><p>Jobs are a set of dbt commands that you want to run on a schedule. For example, <code>dbt run</code> and <code>dbt test</code>.</p><p>As the <code>jaffle_shop</code> business gains more customers, and those customers create more orders, you will see more records added to your source data. Because you materialized the <code>customers</code> model as a table, you&#x27;ll need to periodically rebuild your table to ensure that the data stays up-to-date. This update will happen when you run a job.</p><ol><li>After creating your deployment environment, you should be directed to the page for new environment. If not, select <strong>Deploy</strong> in the upper left, then click <strong>Jobs</strong>.</li><li>Click <strong>Create one</strong> and provide a name, for example &quot;Production run&quot;, and link to the Environment you just created.</li><li>Scroll down to &quot;Execution Settings&quot; and select <strong>Generate docs on run</strong>.</li><li>Under &quot;Commands,&quot; add these commands as part of your job if you don&#x27;t see them:<ul><li><code>dbt run</code></li><li><code>dbt test</code></li></ul></li><li>For this exercise, do <em>not</em> set a schedule for your project to run <!-- -->—<!-- --> while your organization&#x27;s project should run regularly, there&#x27;s no need to run this example project on a schedule. Scheduling a job is sometimes referred to as <em>deploying a project</em>.</li><li>Select <strong>Save</strong>, then click <strong>Run now</strong> to run your job.</li><li>Click the run and watch its progress under &quot;Run history.&quot;</li><li>Once the run is complete, click <strong>View Documentation</strong> to see the docs for your project.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Congratulations 🎉! You&#x27;ve just deployed your first dbt project!</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="faqs">FAQs<a href="bigquery.html#faqs" class="hash-link" aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h4><div class="faqs"><span class="link_QjQx"><span class="toggle_m_Qy" style="transform:rotateX(180deg)"></span> <span></span></span><div style="display:none" class="body_zXUJ"></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="related-content">Related content<a href="bigquery.html#related-content" class="hash-link" aria-label="Direct link to Related content" title="Direct link to Related content">​</a></h2><ul><li>Learn more with <a href="https://courses.getdbt.com/collections" target="_blank" rel="noopener noreferrer">dbt Courses</a></li><li><a href="../../deploy/cloud-ci-job.html">dbt Cloud CI job</a></li><li><a href="../../deploy/job-triggers.html">Job triggers</a></li><li><a href="../../deploy/job-notifications.html">Job notifications</a></li><li><a href="../../deploy/source-freshness.html">Source freshness</a></li></ul></div><div class="customSearchWeight_fp9e algolia-custom-search-weight">0</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dbt-labs/docs.getdbt.com/edit/current/website/docs/docs/quickstarts/dbt-cloud/bigquery-qs.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-13T19:01:08.000Z">Apr 13, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="../overview.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">About quickstarts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="databricks.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Databricks quickstart</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="bigquery.html#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites​</a></li><li><a href="bigquery.html#create-a-new-gcp-project" class="table-of-contents__link toc-highlight">Create a new GCP project​</a></li><li><a href="bigquery.html#create-bigquery-datasets" class="table-of-contents__link toc-highlight">Create BigQuery datasets</a></li><li><a href="bigquery.html#generate-bigquery-credentials" class="table-of-contents__link toc-highlight">Generate BigQuery credentials</a></li><li><a href="bigquery.html#connect-dbt-cloud-to-bigquery" class="table-of-contents__link toc-highlight">Connect dbt Cloud to BigQuery​</a></li><li><a href="bigquery.html#set-up-a-dbt-cloud-managed-repository" class="table-of-contents__link toc-highlight">Set up a dbt Cloud managed repository</a></li><li><a href="bigquery.html#initialize-your-dbt-project-and-start-developing" class="table-of-contents__link toc-highlight">Initialize your dbt project​ and start developing</a></li><li><a href="bigquery.html#build-your-first-model" class="table-of-contents__link toc-highlight">Build your first model</a></li><li><a href="bigquery.html#change-the-way-your-model-is-materialized" class="table-of-contents__link toc-highlight">Change the way your model is materialized</a></li><li><a href="bigquery.html#delete-the-example-models" class="table-of-contents__link toc-highlight">Delete the example models</a></li><li><a href="bigquery.html#build-models-on-top-of-other-models" class="table-of-contents__link toc-highlight">Build models on top of other models</a></li><li><a href="bigquery.html#related-content" class="table-of-contents__link toc-highlight">Related content</a></li></ul><div class="col margin-top--sm"><a href="https://github.com/dbt-labs/docs.getdbt.com/edit/current/website/docs/docs/quickstarts/dbt-cloud/bigquery-qs.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
          <div class="footer__items">
            <a href="https://www.getdbt.com/cloud/terms/">Terms of Service</a>
            <a href="https://www.getdbt.com/cloud/privacy-policy/">Privacy Policy</a>
            <a href="https://www.getdbt.com/security/">Security</a>
            <button id="ot-sdk-btn" onclick="openPreferenceCenter()">Cookie Settings</button>
          </div>

          <div class="footer__items--right">
            <a href="https://twitter.com/getdbt"><i class="fa-brands fa-twitter"></i></a>
            <a href="https://www.getdbt.com/community/join-the-community/"><i class="fa-brands fa-slack"></i></a>
            <a href="https://github.com/dbt-labs/dbt-core"><i class="fa-brands fa-github"></i></a>
          </div>
          </span></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&copy; 2023 dbt Labs, Inc. All Rights Reserved.</div></div></div></footer></div>
<script src='https://d33wubrfki0l68.cloudfront.net/bundles/901511404cae247883dcd0602b3685c939fa20be.js'></script>
</body>
</html>